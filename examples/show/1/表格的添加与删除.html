<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>表格的添加与删除</title>
	<link rel="stylesheet" type="text/css" href="">
	<style>
	#table{border-collapse:collapse; border:1px solid #ccc;}
    #table th, .table td{ border:1px solid #ccc;}
    #table th{background: #f5f5f5;}
    #table tr:nth-child(even) td{background: #dff0d8;}
    #table tr:hover td{background: #fcf8e3;}
    #table tr.on td{background: #d9edf7;}
    #row{ margin-bottom:20px;}
    </style>
</head>
<body>
	<div id="div">
		<div>
			<input type="text" clss="data" id="data">
		</div>
		<div>
			<input type="button" class="add" id="add" value="add">
		</div>
		<table id="table">
			<tr>
				<th>表头内容</th>
				<th>表头内容</th>
				<th>表头内容</th>
			</tr>
			<tr>
				<td>表格内容1</td>
				<td>表格内容2</td>
				<td><a class="del" href="javascript:;">del</a></td>
			</tr>
			<tr>
				<td>表格内容1</td>
				<td>表格内容2</td>
				<td><a class="del" href="javascript:;">del</a></td>
			</tr>
			<tr>
				<td>表格内容1</td>
				<td>表格内容2</td>
				<td><a class="del" href="javascript:;">del</a></td>
			</tr>
			<tr>
				<td>表格内容1</td>
				<td>表格内容2</td>
				<td><a class="del" href="javascript:;">del</a></td>
			</tr>
			<tr>
				<td>表格内容1</td>
				<td>表格内容2</td>
				<td><a class="del" href="javascript:;">del</a></td>
			</tr>
		</table>
	</div>
		<script type="text/javascript">
		(function(){
			var div=document.getElementById("div");
			var table=div.getElementsByTagName("table")[0];
			var tr=table.getElementsByTagName("tr");
			var tb=table.tBodies[0];
			var data=document.getElementById("data");
			var add=document.getElementById("add");
			var del=getByCls(div,'del')
			add.onclick=function(){
				var val=data.value;
				var tr=document.createElement("tr");
				var td=document.createElement("td");
				td.innerHTML=val;
				tr.appendChild(td);
				table.appendChild(tr);
				td=document.createElement("td");
				td.innerHTML="表格内容i";
				tr.appendChild(td);
				td=document.createElement("td");
				td.innerHTML="<a class='del' href=\"javascript:;\">del</a>";
				tr.appendChild(td);
				tb.appendChild(tr);
			}
			for(var i=0;i<del.length;i++){
				del[i].onclick=function(){
					tb.removeChild(this.parentNode.parentNode);
				}
			}
			function getByCls(obj,cls){
				if(obj.getElementsByClassName){
					return obj.getElementsByClassName(cls);
				}else{
					var all=document.all;
					var reg=new RegExp('(^|\\s)'+cls+'(\\s|$)');
					var reg=[];
					for(var i=0;i<all.length;i++){
						if(reg.test(all[i].className)){
							res.push(all[i]);
						}
					}
					return res;
				}
			}

		}());

		</script>

	</div>
</body>
</html>